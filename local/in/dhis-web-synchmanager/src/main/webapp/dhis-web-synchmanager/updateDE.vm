<link href="./css/bootstrap.css" rel="stylesheet">
<script src="./js/bootstrap.js" type="text/javascript"></script>
<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
<link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>

<link rel="stylesheet" href="chosen/chosen.css">
<style type="text/css" media="all">
        /* fix rtl for demo */
    .chzn-rtl .chzn-drop {
        left: -9000px;
    }
</style>

<script type="text/javascript">

    var selectedDEUIDList = [];

    var completeDEList = [];

    var selectedDEList = [];

    var isntanceItemList = [];

    $(document).ready(function () {

        #foreach( $dataElement in $dataElements )
            var deItem = new Object();
            deItem.UID = '$dataElement.getUid()';
            deItem.name = '$dataElement.getName()';
            deItem.shortName = '$dataElement.getShortName()';
            deItem.type = '$dataElement.getType()';
            deItem.ccUID =  '$dataElement.getCategoryCombo().uid';
            completeDEList[deItem.UID] = (deItem);
        #end
    });

    $('.multiselect').multiselect();

    $(function() {

        $(‘#chkveg’).multiselect({

            includeSelectAllOption: true

        });

    });

</script>

<h3>$i18n.getString( "synch_meta_status" )</h3>

<form id="approveDE" name="approveDE" action="updateApproveDEStatus.action" >

     <div class="row">
       <ul class="pagination">
            <li><a class="currentDashboard" href="#" style="font-weight: bold; background-color: #d3d3d3" >Data Element Synch</a></li>
            <li><a href="#" style="font-weight: bold">Indicator Synch</a></li>
            <li><a href="#" style="font-weight: bold">validation Rule Synch</a></li>
            <li><a href="#" style="font-weight: bold">Organisationunit Synch</a></li>
        </ul>
    </div>
 
    <table>
          <td><label for="dataElementIDSelect">Search Datalements </label></td>
                <td>
                    <select class="chzn-select" id="dataElementID" style="width:350px;" tabindex="2" 
						 onchange="updateApproveDEStatus.action">
                        <option value=0>--Select Dataelements--</option>
                        #foreach( $dataelement in $dataElements )
                                <option value=$dataelement.getId()>$dataelement.getName()</option>
                        #end
                    </select>
                   <span id="loaderSpan" style="display:none"><img src='../images/ajax-loader-bar.gif'></span>
                </td>
			</tr>
    </table>
	 <script>
        $(".chzn-select").chosen();
    </script>
    <br>

	<div align="right"><input type="submit" value="Update Approve Status" /></div>
    <table class="listTable" style="border: 1px solid" >
        <thead>
            <th style="text-align: center; border: 1px solid">
                New/Updated Data Elements
            </th>
            <th style="text-align: center; border: 1px  solid">
                Approval needed after updation
            </th>
            <th style="text-align: center; border: 1px  solid">
                Instances
            </th>
            <th style="text-align: center; border: 1px  solid">
                Approve Status
            </th>
        </thead>
        <tbody>
            <tr id="tr${dataElement.id}" data-id="$!dataElement.id" data-uid="$!dataElement.uid"
                data-type="ApprovalDataElements" data-name="$encoder.htmlEncode( $!dataElement.name )">
                <td style="text-align: left; border: 1px solid">$encoder.htmlEncode( $dataElement.getName() )</td>
                <td style="text-align: center; border: 1px solid">
                    <input type="checkbox" name="appNeeded_${dataElement.id}" />
                </td>
                <td style="text-align: center; border: 1px solid">
                    <select class="multiselect" multiple="multiple" name="instances_${dataElement.id}">
                		#foreach( $instance in $synchInstances )
                    		<option value="$instance.id" >$encoder.htmlEncode( $instance.name )</option>
                		#end
                    </select>
                </td>
                <td style="text-align: center; border: 1px solid" >
                    <input type="checkbox" name="approveStatus_${dataElement.id}" >
                </td>
            </tr>
	        </tbody>
    </table>

    <input type="submit" value="Update Approve Status" />
</form>