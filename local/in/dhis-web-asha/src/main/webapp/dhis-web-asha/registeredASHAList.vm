<style>
    #overlay {
    z-index:9998;
    position:absolute;
    top:0;
    bottom:0;
    left:0;
    width:100%;
    background:#000;
    opacity:0.45;
    -moz-opacity:0.45;
    filter:alpha(opacity=45);
    visibility:hidden;   
    }
    #overlayImg{ width: 50px; height: 50px; z-index: 9999; position: absolute; left:50%}
</style>
<div id="overlay">
    <div id="overlayImg"><img  width="50" height="50" src="images/ajax-loader.gif" style="margin:auto;position:fixed;top: 50%;left: 50%;"/></div>
</div>

<table>
	<tr>
		<td class='text-column' >$i18n.getString( "search_result_matching_the_search_criteria" ):</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>
		#if($!listAll)
			$i18n.getString( "list_all" )
		#else
			$i18n.getString( "search_asha" )
		#end
		</td>
	</tr>
	<tr>
		<td class='text-column' >$i18n.getString( "total_result" )</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>$!total</td>
	</tr>
</table>


#if( $status == "NONE" )
<!--
<h3>$i18n.getString( "asha_list" ) - $!organisationUnit.name</h3>
<div align="right">
	<input type="button" value='$i18n.getString( "add_asha" )' style="width:8.2em" onclick="showAddAHSAProfileForm();">
</div>
-->
<!--<div id='ashaListDiv'>-->
<table class="mainPageTable">
	<tr>
		<td>
			<table class="listTable" id="listTable"> 
				<colgroup>
					<col width="30"/>
					<col />
					<!--<col />-->
					<col />
					<col/>
					<col/>
					<col/>
					#if($mapPatientOrgunit.size()!=0)
          				<col/>
          			#end
					<col width="250"/>
				</colgroup>   
				<thead>
					<tr>
						<th>#</th>
						<th>$i18n.getString( "asha_name" )</th>
						<!--<th>$i18n.getString( "gender" )</th>-->
						<th>$i18n.getString( "date_of_birth" )</th>
						<th>$i18n.getString( "age" )</th> 
						<th class="{sorter: false}">$i18n.getString( "contact_number" )</th>
						<th>$i18n.getString( "registration_date" )</th>
						#if($mapPatientOrgunit.size()!=0)
							<th>$i18n.getString( "hierachy_orgunit" )</th>
						#end
						<th class="{sorter: false}" style="text-align:center">$i18n.getString( "operations" )</th>
					</tr>
				</thead>
				<tbody id="list">   
					#foreach( $patient in $patients )
						
						<tr id="tr${patient.id}">
							<td>#set( $nr = ( ( $paging.getCurrentPage() - 1  ) * $paging.pageSize ) + $velocityCount )
								$nr
							</td>
							
							#set($value="")
							#set($value=$patient.getFullName())
						
							<!--<td>#set( $nr = ( ( $paging.getCurrentPage() - 1  ) * $paging.pageSize ) + $velocityCount )$nr</td>-->
							<td>$encoder.htmlEncode($value)</td>
							<!--<td>$i18n.getString( $patient.gender )</td>-->
							<!--<td>$format.formatDate( $patient.birthDate )</td>-->
							<td>$!simpleDateFormat.format( $patient.birthDate )</td>
							<td>$encoder.htmlEncode( $patient.getAge() )</td>
							<td>$!patient.phoneNumber</td>
							<!--<td>$!patient.registrationDate</td>-->
							<!--<td>$format.formatDate( $!patient.registrationDate )</td>-->
							<td>$!simpleDateFormat.format( $!patient.registrationDate )</td>
							#if($mapPatientOrgunit.size()!=0)
								<td>$!mapPatientOrgunit.get($patient.id)</td>
							#end
							
							<td>
								<a href="javascript:showUpdateASHAProfileForm( '$patient.id' )" title='$i18n.getString( "edit_profile" )'><img src="images/profile.png" alt='$i18n.getString( "edit_profile" )'></a>
								<a href="javascript:showUpdateASHATrainingForm( '$patient.id' , 'training')" title='$i18n.getString( "add_update_training_details" )'><img src="images/training.png" alt='$i18n.getString( "add_update_traning_details" )'></a>
									
								<!--<a href="javascript:showUpdateASHAAttributesTrainingForm( '$patient.id' , 'training')" title='$i18n.getString( "add_update_training_details" )'><img src="images/training.png" alt='$i18n.getString( "add_update_traning_details" )'></a>-->
								<a href="javascript:showUpdateASHAAttributesSkillsForm( '$patient.id' , 'Skills')" title='$i18n.getString( "add_update_skill_details" )'><img src="images/Skills.png" alt='$i18n.getString( "add_update_skill_details" )'></a>
								<!--<a href="javascript:showUpdateASHAAttributesIECForm( '$patient.id' , 'iec')" title='$i18n.getString( "add_update_iec_details" )'><img src="images/iec.png" alt='$i18n.getString( "add_update_iec_details" )'></a>-->
								
								<a href="javascript:showUpdateASHADrugKitIECForm( '$patient.id' , 'iec')" title='$i18n.getString( "add_update_iec_details" )'><img src="images/iec.png" alt='$i18n.getString( "add_update_iec_details" )'></a>
								
								<!--<a href="javascript:showUpdateASHAAmountDetailsForm( '$patient.id' )" title='$i18n.getString( "add_update_performance_details" )'><img src="images/performance.png" alt='$i18n.getString( "add_update_traning_details" )'></a>-->
								<a href="javascript:showAddASHABeneficiaryForm( '$patient.id' )" title='$i18n.getString( "Self Appraisal Form" )'><img src="images/performance.png" alt='$i18n.getString( "Self Appraisal Form" )'></a>
								
								
								#if( $auth.hasAccess( "dhis-web-asha", "ashaMOApprove") )
									<a href="javascript:showASHAMOApproveForm( '$patient.id' )" title='$i18n.getString( "BAC Verification" )'><img src="../images/edit.png" alt='$i18n.getString( "BAC Verification" )'></a>
								#end	
									
								#if( $auth.hasAccess( "dhis-web-asha", "ashaAAApprove") )
									<a href="javascript:showASHAAAApproveForm( '$patient.id' )" title='$i18n.getString( "Account Assistant Verification" )'><img src="../images/edit.png" alt='$i18n.getString( "Account Assistent Verification" )'></a>
								#end	
								<!--	
								#if( $auth.hasAccess( "dhis-web-asha", "ashapayment") )
									<a href="javascript:showUpdateASHAPaymentForm( '$patient.id' )" title='$i18n.getString( "asha_payment" )'><img src="images/rupee.png" alt='$i18n.getString( "asha_payment" )'></a>
								#end
								-->
								<!--
								<a href="javascript:showUpdateASHAPaymentForm( '$patient.id' )" title='$i18n.getString( "asha_payment" )'><img src="images/rupee.png" alt='$i18n.getString( "asha_payment" )'></a>
								-->
								<!--<a href="#" title='$i18n.getString( "add_update_performance_details" )'><img src="../images/edit.png" alt='$i18n.getString( "add_update_traning_details" )'></a>-->
								<a href="javascript:removeASHA( '$patient.id', '$encoder.jsEncode( $patient.getFullName() )' )" title='$i18n.getString( "remove" )'><img src="../images/delete.png" alt='$i18n.getString( "remove" )'></a>
								<a href="javascript:showASHADetails( '$patient.id' )" title='$i18n.getString( "asha_details" )'><img src="../images/information.png" alt='$i18n.getString( "patient_details_and_history" )'></a>
							</td>                               
						</tr>
					#end
				</tbody>
			</table>
		</td>
	</tr>
	<tr>
		<td>
            <p></p>
            <div class="paging-container">
                #parse( "/dhis-web-commons/paging/paging.vm" )
            </div>
        </td>
    </tr>
</table>

 <div id="detailsInfo"></div>
 <span id="message"></span>
#parse( "/dhis-web-commons/loader/loader.vm" ) 
<!--</div>-->

<script type="text/javascript">
    jQuery(document).ready(function(){
        setTableStyles();
        //tableSorter( 'listTable' ); 
    });
    
    jQuery(document).ready(function(){	
		tableSorter( 'listTable' );	
	});
    
    
    var i18n_asha_details = '$encoder.jsEscape( $i18n.getString( "asha_details" ) , "'" )';
    var i18n_confirm_delete = '$encoder.jsEscape( $i18n.getString( "confirm_delete_asha" ) , "'" )';
</script>
		
#else
	<h4>$status</h4>
#end