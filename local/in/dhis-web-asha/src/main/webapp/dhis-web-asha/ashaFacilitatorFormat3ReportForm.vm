<script type="text/javascript">

	var i18n_please_select_orgUnit = '$encoder.jsEscape( $i18n.getString( "please_select_orgUnit" ) , "'")';
	
</script>

<script>

function formValidations()
{
   	//alert("validation");
	
    var startPeriodList = document.getElementById("startPeriod");
    var startPeriodIndex = startPeriodList.selectedIndex;
    
	var endPeriodList = document.getElementById("endPeriod");
    var endPeriodIndex = endPeriodList.selectedIndex;
    
	//alert( startPeriodList.options[startPeriodIndex].value );
	//alert( endPeriodList.options[endPeriodIndex].value );
	
    var startPeriodObj = document.getElementById('startPeriod');
    var endPeriodObj = document.getElementById('endPeriod');

    sDateTxt = startPeriodObj.options[startPeriodObj.selectedIndex].text;
    sDate = formatDate(new Date(getDateFromFormat(sDateTxt,"MMM-y")),"yyyy-MM-dd");
	
    eDateTxt = endPeriodObj.options[endPeriodObj.selectedIndex].text;
    eDate = formatDate(new Date(getDateFromFormat(eDateTxt,"MMM-y")),"yyyy-MM-dd");
    
    if( startPeriodList.options[startPeriodIndex].value == null || startPeriodList.options[startPeriodIndex].value== "" ) 
	{ 
		//alert("Please Select Start Period");
		showWarningMessage( "Please Start Select Period" );
		return false; 
	}
    
	else if( endPeriodList.options[endPeriodIndex].value == null || endPeriodList.options[endPeriodIndex].value== "" ) 
	{ 
		showWarningMessage( "Please End Select Period" );
		//alert("Please Select End Period"); 
		return false; 
	}
	
    if( sDate > eDate ) 
	{ 
		showWarningMessage( "Starting Period is Greater" );
		//alert( "Starting Period is Greater" );
		return false; 
	}
	
    return true;
}

</script>

<form id="ashaFacilitatorFormat3ReportForm" name="ashaFacilitatorFormat3ReportForm" action="generateASHAFacilitatorFormat3Report.action" method="post" onsubmit="return formValidations()" target="_blank">
	<table>

    	<tr>
    		<th colspan="2">$i18n.getString( "asha_facilitator_Format3_report_form" ) &nbsp; $i18n.getString( "facilitator" ) : $!facilitator.name &nbsp; - $!organisationUnit.name </th>
    	</tr>
    	<tr>
    		<td>&nbsp;</td>
    		<td>&nbsp;</td>
    	</tr>		
		
		<tr>
			<td>$i18n.getString( "start_period" )</td>
			<td>
				<select id="startPeriod" name="startPeriod" >
					<option value="">[$i18n.getString( "please_select" )]</option>
					#foreach ( $mperiod in $monthlyPeriods )
						<option value="$mperiod.id">$simpleDateFormat.format( $mperiod.startDate )</option>
					#end				
				</select>
			</td>
		</tr>		
		
		<tr>
    		<td>&nbsp;</td>
    		<td>&nbsp;</td>
		</tr>
		
		<tr>
			<td>$i18n.getString( "end_period" )</td>
			<td>
				<select id="endPeriod" name="endPeriod" >
					<option value="">[$i18n.getString( "please_select" )]</option>
					#foreach ( $mperiod in $monthlyPeriods )
						<option value="$mperiod.id">$simpleDateFormat.format( $mperiod.startDate )</option>
					#end
				</select>
			</td>
		</tr>
		
		<tr>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td><input type="submit" value='$i18n.getString("generate_report")' style="width:120px" /></td>
			<td>
				<input type="button"  value="$i18n.getString( 'Cancel' )" onclick="window.location.href='getASHAFacilitatorList.action'" style="width:120px"/>
				<input type="hidden" id="orgUnitId" name="orgUnitId" value="$!organisationUnit.id" />
				<input type="hidden" id="facilitatorId" name="facilitatorId" value="$!facilitator.id" />
			</td>
		</tr>
		
    </table>
</form>
