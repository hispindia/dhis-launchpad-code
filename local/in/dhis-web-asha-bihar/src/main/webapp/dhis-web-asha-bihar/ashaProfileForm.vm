<script type="text/javascript" src="javascript/addASHA.js"></script>
## Macro for generating the jQuery validation rules 
#macro( validate $type $require )
  #if( $type == "NUMBER" )
  	{validate:{ number:true #if($require), required:true #end }}
  #elseif( $type == "string" )
  	{validate:{ alphanumeric:true #if($require), required:true #end }}
  #elseif( $require )
  	{validate:{required:true}}
  #end
#end
<table style="background-color:#ECE0F8;" width="100%">
	
<tr><th colspan="2" class="heading-column"><strong>Section 1: Demographics and Work Related Information</strong></th></tr>
	
<tr>
	<td class='text-column'><label for="registration_date">$i18n.getString( "registration_date" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
	<td class="input-column" colspan='2'>
		<input type="text" id="registrationDate" name="registrationDate" class="{validate:{required:true}}"/>
		<script type="text/javascript">
			datePickerValid( 'registrationDate', true );
		</script>    
	</td>		
</tr>

<tr>
	<td class='text-column'><label for="fullName">$i18n.getString( "full_name_asha" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
	<td class="input-column">
		<input type="text" id="fullName" name="fullName" class="{validate:{required:true, unicodechars:true, rangelength:[7,50]}}"/>
	</td>
</tr>

<tr style='display:none'>
	<td class='text-column'><label for="gender">$i18n.getString( "gender" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
	<td class="input-column">
		<select id="gender" name="gender" class="{validate:{required:true}}" readonly >
			<option value="F">$i18n.getString( "female" )</option>
		</select>
	</td>		
</tr>

<tr #alternate( false ) id="trattr6">	    
	<!-- Village of ASHA -->
	<td class='text-column'>Village Name</td>
	<td class="input-column" ><input type="text" id="attr6" name="attr6" class="{validate:{required:false ,unicodechars:true }}" /></td>
</tr>	

<tr #alternate( false ) id="trattr19">	    
	<!-- Population of Village of ASHA -->
	<td class='text-column'>Population of Village</td>
	<td class="input-column" ><input type="text" id="attr19" name="attr19" class="{validate:{required:false ,number:true }}" /></td>
</tr>

<tr #alternate( false ) id="trattr200">	    
	<!-- Name of ANM In-charge of ASHA -->
	<td class='text-column'>Name of ANM In-charge</td>
	<td class="input-column" ><input type="text" id="attr200" name="attr200" class="{validate:{required:false ,unicodechars:true }}" /></td>
</tr>

<tr #alternate( false ) id="trattr6">	    
	<!-- Name of ASHA Facilitator In-charge -->
	<td class='text-column'>Name of ASHA Facilitator</td>
	<td class="input-column" ><input type="text" id="attr201" name="attr201" class="{validate:{required:false ,unicodechars:true }}" /></td>
</tr>

</tr>
	<tr>
		<td class='text-column'><label for="phoneNumber">$i18n.getString( "phoneNumber" )</label></td>
		<td class="input-column">
			<input type="text" id="phoneNumber" name="phoneNumber" #if( $!patient.phoneNumber ) value="$!patient.phoneNumber" #else value="$!phoneNumberAreaCode" #end class="{validate:{phone:true,rangelength:[10,10]}}"/>
		</td>
	</tr>


<tr>
	<td class='text-column'><label for="birthDate">$i18n.getString( "date_of_birth" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
	<td class="input-column">	
		<select id='dobType' name="dobType" style='width:120px' onchange='dobTypeOnChange("addASHAProfileForm")' >
			<!--<option value="V" selected>$i18n.getString( "verified" )</option>-->
			<!--<option value="D" >$i18n.getString( "declared" )</option>-->
			<option value="A" >$i18n.getString( "approximated" )</option>
			<option value="D" >$i18n.getString( "declared" )</option>
		</select>
		<input type="text" id="age" name="age" placeholder="Enter age in years..." class="{validate:{number:true}}" style="width:136px;display:none;" onchange="ageValidation();"/>
		<input type="text" id="birthDate" name="birthDate" style='width:136px;' onchange="dobValidation();"/>
		<input id="memberValidator" class="hidden {validate:{required:true}}"/>
		&nbsp;&nbsp;<input type="button" class='button' id='checkDuplicateBtn' name='checkDuplicateBtn' value="$i18n.getString('check_duplicate')" />
	</td>	
	<!--
    <td style="display:none">
		<input type="text" id="bobOfASHA" name="bobOfASHA"/>
    </td>	
	-->
	<!--<td><input type="button" class='button' id='checkDuplicateBtn' name='checkDuplicateBtn' value="$i18n.getString('check_duplicate')" /></td>-->
</tr>

<tr #alternate( false ) id="trattr12">	    
	<!-- Educational level of ASHA -->
	<td class='text-column'>Educational level</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 12 ) ) 	
		<select id="attr12" name="attr12" onchange="validateEducationLevel();">
		 	<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
		 	##foreach ($option in $attribute.attributeOptions )
		 		<option value="2" >Post Graduate</option>
		 		<option value="5" >Graduate</option>
		 		<option value="4" >10+2</option>
		 		<option value="3" >Matriculation</option>
		 		<option value="6" >8th Pass</option>
		 		<option value="7" >Primary</option>
		 		<option value="1" >Illiterate</option>
		 		<option value="194" >Enrolled in 10th Grade through Open School/IGNOU</option>
 			##end
 			</select>
 		</td>
</tr>

<tr #alternate( false ) id="trattr202">	    
	<!-- Year of Enrollment of ASHA -->
	<td class='text-column'>Year of Enrollment</td>
	<td class="input-column" ><input type="text" id="attr202" name="attr202" class="{validate:{required:false ,number:true }}" disabled = "disabled" /></td>
</tr>


<tr #alternate( false ) id="trattr13">	    
	<!-- Caste Category of ASHA -->
	<td class='text-column'>Caste Category</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 13 ) ) 	
		<select id="attr13" name="attr13" class='#validate( "default"  $attribute.mandatory )'>
		 	<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
		 	##foreach ($option in $attribute.attributeOptions )
		 		<option value="11" >SC</option>
		 		<option value="217" >ST</option>
		 		<option value="10" >OBC</option>
		 		<option value="9" >General</option>
		 		<option value="8" >Others</option>
 			##end
 			</select>
 		</td>
</tr>

<tr #alternate( false ) id="trattr14">	    
	<!-- Marital Status  of ASHA -->
	<td class='text-column'>Marital Status</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 14 ) ) 	
		<select id="attr14" name="attr14" class='#validate( "default"  $attribute.mandatory )'>
		 	<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
		 	##foreach ($option in $attribute.attributeOptions )
		 		<option value="12" >Married</option>
		 		<option value="13" >Married but currently Single</option>
		 		<option value="14" >Unmarried</option>
		 		<option value="15" >Widow</option>
 			##end
 			</select>
 		</td>
</tr>

<tr #alternate( false ) id="trattr23">	    
	<!-- Other source of Income -->
	<td class='text-column'>Other source of Income</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 23 ) ) 
        <select id="attr23" name="attr23" class='#validate( "default"  $attribute.mandatory )'>
            <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
            <option value="true">$i18n.getString( "yes" )</option>
            <option value="false">$i18n.getString( "no" )</option>
        </select>
	</td>
</tr>

<tr #alternate( false ) id="trattr10">	    
	<!-- Date of Appointment as ASHA -->
	<td class='text-column'>Date of Appointment as ASHA</td>
	#set( $attributeDate = $patientAttributeMap.get( 15 ) )
	<td class="input-column" ><input type="text" id="attr15" name="attr15" class=' #validate( "default"  $attributeDate.mandatory )' onchange="validateDateOfJoining();"/>
		<script type="text/javascript">
			datePickerValid( 'attr15' );
		</script>
	</td>
</tr>

<tr #alternate( false ) id="trattr16">	    
	<!-- Letter from Panchayat -->
	<td class='text-column'>Letter from Panchayat</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 16 ) ) 
        <select id="attr16" name="attr16" class='#validate( "default"  $attribute.mandatory )'>
            <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
            <option value="true">$i18n.getString( "yes" )</option>
            <option value="false">$i18n.getString( "no" )</option>
        </select>
	</td>
</tr>

<tr #alternate( false ) id="trattr17">	    
	<!-- Identity Card Issued -->
	<td class='text-column'>Identity Card Issued</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 17 ) ) 
        <select id="attr17" name="attr17" class='#validate( "default"  $attribute.mandatory )'>
            <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
            <option value="true">$i18n.getString( "yes" )</option>
            <option value="false">$i18n.getString( "no" )</option>
        </select>
	</td>
</tr>


<tr #alternate( false ) id="trattr26">	    
	<!-- Bank Account of ASHA opened  -->
	<td class='text-column'>Bank Account of ASHA opened</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 26 ) ) 
        <select id="attr26" name="attr26" class='#validate( "default"  $attribute.mandatory )'>
            <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
            <option value="true">$i18n.getString( "yes" )</option>
            <option value="false">$i18n.getString( "no" )</option>
        </select>
	</td>
</tr>	

<tr #alternate( false ) id="trattr27">	    
	<!-- If Yes, Mention Name of the Bank   -->
	<td class='text-column'>If Yes, Mention Name of the Bank</td>
	<td class="input-column" ><input type="text" id="attr27" name="attr27" class="{validate:{required:false ,unicodechars:true}}" /></td>
</tr>

<tr #alternate( false ) id="trattr28">	    
	<!-- Account Number    -->
	<td class='text-column'>Account Number</td>
	<td class="input-column" ><input type="text" id="attr28" name="attr28" class="{validate:{required:false ,number:true}}" /></td>
</tr>


<tr #alternate( false ) id="trattr29">	    
	<!-- Branch Name -->
	<td class='text-column'>Branch Name</td>
	<td class="input-column" ><input type="text" id="attr29" name="attr29" class="{validate:{required:false ,unicodechars:true}}" /></td>
</tr>

<tr #alternate( false ) id="trattr33">	    
	<!-- Date of Cessation from ASHA Work -->
	<td class='text-column'>Date of Cessation from ASHA Work</td>
	#set( $attributeDate = $patientAttributeMap.get( 33 ) )
	<td class="input-column" ><input type="text" id="attr33" name="attr33" class=' #validate( "default"  $attributeDate.mandatory )'/>
		<script type="text/javascript">
			datePickerValid( 'attr33' );
		</script>
	</td>	
</tr>

<tr #alternate( false ) id="trattr185">	    
	<!-- Reason for Dropout( if Dropped ) -->
	<td class='text-column'>Reason for Dropout( if Dropped )</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 185 ) ) 	
		<select id="attr185" name="attr185" class='#validate( "default"  $attribute.mandatory )' onchange="validateMiscellaneousReason();">
		 	<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
		 	#foreach ($option in $attribute.attributeOptions )
		 		<option value="$option.id" >$option.name</option>
 			#end
 			</select>
 		</td>
</tr>

<tr #alternate( false ) id="trattr207">	    
	<!-- Miscellaneous Reasons for ASHA Drop Out -->
	<td class='text-column'>Miscellaneous</td>
	<td class="input-column" >
		#set( $attribute = $patientAttributeMap.get( 207 ) ) 	
		<select id="attr207" name="attr207" class='#validate( "default"  $attribute.mandatory )' disabled = "disabled">
		 	<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
		 	#foreach ($option in $attribute.attributeOptions )
		 		<option value="$option.id" >$option.name</option>
 			#end
 			</select>
 		</td>
</tr>

</table>

<script type="text/javascript">
	dobTypeOnChange("addASHAProfileForm");
	//ageValidation();
	//dobValidation();
</script>